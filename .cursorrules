# Project-specific

- **Never modify core or plugins**: Never modify WordPress core files (`wp-admin/`, `wp-includes/`) or third-party plugin files.
- **No JSX syntax**: Do not use JSX in JavaScript files. This theme does not use a build process to transpile JSX. Use `wp.element.createElement()` for creating React elements in WordPress block editor scripts.

# Code-Creation Process

When implementing a new feature or functionality:

1. **Research First**: Before implementing, search the codebase and research multiple implementation approaches. Consider:
   - WordPress-specific APIs and hooks available
   - Existing patterns and conventions in the codebase
   - Different architectural approaches (hooks vs direct calls, filters vs actions, etc.)
   - Performance implications
   - Maintainability and extensibility

2. **Present Options**: After research, present the user with:
   - Multiple viable implementation approaches (typically 2-3 options)
   - Brief pros/cons for each approach
   - Recommendation if one approach is clearly superior

3. **Ask Clarifying Questions**: Before proceeding with implementation, ask questions to understand:
   - User's specific requirements and constraints
   - Expected behavior and edge cases
   - Integration points with existing code
   - Performance or scalability concerns
   - Future extensibility needs

4. **Wait for Approval**: Do not proceed with implementation until the user has:
   - Selected an approach from the options presented
   - Answered any critical clarifying questions
   - Confirmed they're ready to proceed

# Code Simplification

## Remove Unnecessary Code

- **Unused code**: Remove variables, functions, attributes, and data attributes that are defined but never used
- **Dead code**: Remove code that cannot execute due to context limitations (e.g., Customizer API code on non-customizer screens)
- **Unnecessary dependencies**: Only include script/style dependencies that are actually used
- **Redundant functionality**: Don't duplicate functionality already provided elsewhere (e.g., inline styles + JavaScript, localized data + inline scripts)
- **Dead code paths**: Remove unreachable else/elseif branches and simplify always-true/false conditionals
- **Remove redundant checks**: Eliminate unnecessary conditionals and type checks when code is already safe
- **Variable elimination**: Remove intermediate variables when values are only used once

## Readability and Maintainability

- **DRY principle**: Extract duplicate HTML/code into shared functions
- **Inline simple functions**: Inline functions that are only called once or are very simple
- **Avoid excessive nesting**: Limit nesting depth (prefer early returns, extract functions, use guard clauses). Refactor deeply nested conditionals or loops into separate functions.
- **Combine similar operations**: Merge multiple similar queries or operations into single statements
- **Condense function calls**: Single-line formatting for simple function calls

### PHP

- **Conditional logic**: Use null coalescing and concise conditionals:
  - ✅ `$value = $attributes['key'] ?? 'default';`
  - ✅ `$has_form = ( $post && has_block( 'namespace/block', $post ) ) || is_page_template( 'template.php' );`
  - ❌ Verbose if/else chains for simple defaults
- **Template rendering**: Direct attribute access and inline conditionals:
  - ✅ `$attributes['key'] ?? 'default'`
  - ✅ `<?php if ( $show ) : ?>`
- **Validation logic**: Combine related validations into single statements:
  - ✅ `if ( empty( $name ) || empty( $email ) || ! is_email( $email ) || empty( $message ) )`

### JavaScript

- **Use modern syntax**: Prefer optional chaining (`?.`), arrow functions, and concise syntax over verbose alternatives
- **Consolidate selectors**: Use single query selectors with appropriate combinators instead of multiple separate queries
- **Event handling**: Use event delegation:
  - ✅ `$(document).on('submit', '.form-class', function(e) { ... });`
  - ❌ `$(document).ready(function() { $('.form-class').on('submit', ...); });`
- **AJAX callbacks**: Simplify success/error handling with ternary operators
- **Block editor**: Use concise React element creation:
  - ✅ `el('div', props, content)` instead of verbose `createElement` calls
  - ✅ Arrow functions: `({ attributes, setAttributes }) => ...`
